<main>
  <section class="job-description">
    <h1>{{ jobDescription.title }}</h1>
    <p>{{ jobDescription.text }}</p>
  </section>
  <section class="cv-container">
    @for (cv of cvs; track cv.id) {
    <li>
      <article class="cv">
        <section class="contact">
          <h3>Contact</h3>
          <ul>
            <li>{{ cv.firstname }} {{ cv.lastname }}</li>
            <li>tel : {{ cv.tel }}</li>
            <li>mail : {{ cv.tel }}</li>
            <li>age : {{ cv.age }} ans</li>
          </ul>
        </section>

        <section class="experience">
          <h3>Expérience</h3>
          <ul>
            @for (experience of cv.experiences; track experience.company){
            <li>
              <h4>{{ experience.position }} - {{ experience.company }}</h4>
              <p>{{ experience.startDate }} - {{ experience.endDate }}</p>
              <p>{{ experience.description }}</p>
            </li>
            }
          </ul>
        </section>

        <section class="education">
          <h3>Diplomes</h3>
          <ul>
            @for (diploma of cv.education; track diploma.degree){
            <li>
              <h4>{{ diploma.degree }}</h4>
              <p>{{ diploma.date }}</p>
              <p>{{ diploma.description }}</p>
            </li>
            }
          </ul>
        </section>
        <section class="button-section">
          <button
            class="button-accent button-accent3"
            (click)="onDislike(cv.id)"
            [disabled]="data.likedCVs.includes(cv.id)"
          >
            Ecarter
          </button>
          <button
            class="button-accent button-accent2"
            (click)="onLike(cv.id)"
            [disabled]="data.dislikedCVs.includes(cv.id)"
          >
            Retenir
          </button>
        </section>
      </article>
    </li>
    } @empty {
    <li>There are no cvs.</li>
    }
    <button class="button-accent2 button-accent">Passer à la suite</button>
  </section>
</main>
